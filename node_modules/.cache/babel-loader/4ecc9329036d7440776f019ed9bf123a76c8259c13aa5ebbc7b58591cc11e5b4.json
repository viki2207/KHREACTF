{"ast":null,"code":"import api from \"../../utils/api\";\nimport { CLEAR_PROFILE, GET_PROFILE, GET_PROFILES, GET_REPOS, NO_REPOS, PROFILE_ERROR } from \"../types\";\nimport { setAlert } from \"./alertAction\";\n\n// Get Github repos\nexport const getGithubRepos = username => async dispatch => {\n  try {\n    const res = await api.get(`/profile/github/${username}`);\n    dispatch({\n      type: GET_REPOS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: NO_REPOS\n    });\n  }\n};\nexport const getProfiles = () => async dispatch => {\n  dispatch({\n    type: CLEAR_PROFILE\n  });\n  try {\n    const res = await api.get(\"/profile\");\n    dispatch({\n      type: GET_PROFILES,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const getProfileById = userId => async dispatch => {\n  try {\n    const res = await api.get(`/profile/user/${userId}`);\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.statusCode\n      }\n    });\n  }\n};\nexport const getCurrentProfile = () => async dispatch => {\n  try {\n    const res = await api.get(\"/profile/me\");\n    console.log(\"inside the getCurrentProfile method\");\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.statusCode\n      }\n    });\n  }\n};\nexport const createProfile = function (formData) {\n  let edit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  return async dispatch => {\n    try {\n      const res = await api.post(\"/profile\", formData);\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n      dispatch(setAlert(edit ? \"Profile Updated\" : \"Profile Created\", \"success\"));\n    } catch (err) {\n      const errors = err.response.data.errors;\n      if (errors) {\n        errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n      }\n      dispatch({\n        type: PROFILE_ERROR,\n        payload: {\n          msg: err.response.statusText,\n          status: err.response.status\n        }\n      });\n    }\n  };\n};\n\n// Add Experience\nexport const addExperience = (formData, navigate) => async dispatch => {\n  try {\n    const res = await api.put(\"/profile/experience\", formData);\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Experience Added\", \"success\"));\n    navigate(\"/dashboard\");\n  } catch (err) {\n    const errors = err.response.data.errors;\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n    }\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};","map":{"version":3,"names":["api","CLEAR_PROFILE","GET_PROFILE","GET_PROFILES","GET_REPOS","NO_REPOS","PROFILE_ERROR","setAlert","getGithubRepos","username","dispatch","res","get","type","payload","data","err","getProfiles","msg","response","statusText","status","getProfileById","userId","statusCode","getCurrentProfile","console","log","createProfile","formData","edit","post","errors","forEach","error","addExperience","navigate","put","UPDATE_PROFILE"],"sources":["/Users/vidhi/Desktop/fullstack/KHREACTF/src/redux/actions/profileAction.js"],"sourcesContent":["import api from \"../../utils/api\";\nimport {\n  CLEAR_PROFILE,\n  GET_PROFILE,\n  GET_PROFILES,\n  GET_REPOS,\n  NO_REPOS,\n  PROFILE_ERROR,\n} from \"../types\";\nimport { setAlert } from \"./alertAction\";\n\n// Get Github repos\nexport const getGithubRepos = (username) => async (dispatch) => {\n  try {\n    const res = await api.get(`/profile/github/${username}`);\n\n    dispatch({\n      type: GET_REPOS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: NO_REPOS,\n    });\n  }\n};\nexport const getProfiles = () => async (dispatch) => {\n  dispatch({ type: CLEAR_PROFILE });\n\n  try {\n    const res = await api.get(\"/profile\");\n\n    dispatch({\n      type: GET_PROFILES,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\nexport const getProfileById = (userId) => async (dispatch) => {\n  try {\n    const res = await api.get(`/profile/user/${userId}`);\n    dispatch({ type: GET_PROFILE, payload: res.data });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.statusCode,\n      },\n    });\n  }\n};\nexport const getCurrentProfile = () => async (dispatch) => {\n  try {\n    const res = await api.get(\"/profile/me\");\n    console.log(\"inside the getCurrentProfile method\");\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.statusCode,\n      },\n    });\n  }\n};\n\nexport const createProfile =\n  (formData, edit = false) =>\n  async (dispatch) => {\n    try {\n      const res = await api.post(\"/profile\", formData);\n\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data,\n      });\n\n      dispatch(\n        setAlert(edit ? \"Profile Updated\" : \"Profile Created\", \"success\")\n      );\n    } catch (err) {\n      const errors = err.response.data.errors;\n\n      if (errors) {\n        errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n      }\n\n      dispatch({\n        type: PROFILE_ERROR,\n        payload: { msg: err.response.statusText, status: err.response.status },\n      });\n    }\n  };\n\n// Add Experience\nexport const addExperience = (formData, navigate) => async (dispatch) => {\n  try {\n    const res = await api.put(\"/profile/experience\", formData);\n\n    dispatch({\n      type: UPDATE_PROFILE,\n      payload: res.data,\n    });\n\n    dispatch(setAlert(\"Experience Added\", \"success\"));\n\n    navigate(\"/dashboard\");\n  } catch (err) {\n    const errors = err.response.data.errors;\n\n    if (errors) {\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\n    }\n\n    dispatch({\n      type: PROFILE_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}